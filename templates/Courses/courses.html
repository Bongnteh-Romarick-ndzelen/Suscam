{% extends "Navbar/navbar.html" %}
{% load static %}
<div>
    {% block content %}
    <div class="mt-5 container">
        <div class="row mt-5 justify-content-center">
        <center><h5 class="mt-5 text-success fw-bold" style="border-bottom: solid 1px #05694b;"><em>There are {{total}} Courses available. Check below!</em></h5></center>

            {% for course in course_list %}
            <div class="col-md-3">
                <a href="{% url 'course' course.course_id %}">
                    <div class="box shadow p-3 my-3">
                        <center><img style="height: 150px; width: 100%;" src="{{ course.course_img.url }}" alt="{{course.course_name}}"></center>
                        <div class="d-flex mt-2" style="font-size: 1em; color: #034733;">
                            <center>
                                <p><strong style="text-decoration: underline;" >{{course.course_name}}</strong> <br><strong style="font-size: .8em; color: #034733;">Posted {{course.created | timesince}} ago</strong></p>
                            </center>
                        </div>
                        <p class="" style="font-size: .8em; color: #0f550d;"><em>{{ course.description|slice:":80" }}...</em></p>
                        <center>
                            <p>
                                <strong class="btn btn-outline-success fw-bold" style="font-size: 1em; padding: 3px;"><strike>{{course.old_price}} &dollar;</strike></strong>
                                <strong class="btn btn-outline-success fw-bold" style="font-size: 1em;  padding: 3px;">{{course.price}} &dollar;</strong>
                            </p>
                        </center>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>

        <!--Paginator-->
        <div class="row justify-content-center text-center products mb-3">
            <span class="step-links">
                {% if page_obj.has_previous %}
                <a href="?page=1">&laquo; First Page</a>
                <a href="?page={{ page_obj.previous_page_number}}">previous</a>
                {% endif %}

                <span class="current_page">Page{{page_obj.number }}</span>
                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number}}">next</a>
                    <a href="?page={{ page_obj.paginator.num_pages }}">Last Page &raquo;</a>
                {% endif %}

            </span>
        </div>
    </div>
    {% endblock content %}
</div>